#bravo to be merged

prefix cat: <http://example.org/cat#>
prefix skos: <http://www.w3.org/2004/02/skos/core#>
prefix sh: <http://www.w3.org/ns/shacl#>
prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>
prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
prefix xsd: <http://www.w3.org/2001/XMLSchema#>
prefix ex: <http://example.org/>
prefix purl: <http://purl.allotrope.org/ontologies/>
prefix schema: <https://schema.org/>
prefix qudt: <http://qudt.org/schema/qudt/>
prefix unit: <https://qudt.org/vocab/unit/>
prefix owl: <http://www.w3.org/2002/07/owl#> 
prefix dct: <http://purl.org/dc/terms/>
prefix vann: <http://purl.org/vocab/vann/>
prefix obo: <http://purl.obolibrary.org/obo/>
prefix allo-res: <http://purl.allotrope.org/ontologies/result#> 
prefix allo-prop: <http://purl.allotrope.org/ontologies/property#>
prefix allo-real: <http://purl.allotrope.org/ontologies/realizable#>
prefix allo-qual: <http://purl.allotrope.org/ontologies/quality#> 
prefix obo: <http://purl.obolibrary.org/obo/>

<http://purl.allotrope.org/ontologies/realizable#AFRE_0000001> a rdf:Property ;
    skos:prefLabel "action" ;
    skos:altLabel "task" ;
    skos:definition "An action is a unit element in a procedure and is a concretization of an action specification." ;
    .

cat:EvaporationAction a rdfs:Class, sh:NodeShape ;
    rdfs:subClassOf allo-real:AFRE_0000001 ;
    skos:prefLabel "Evaporation action" ;
    skos:definition "An action that involves the evaporation of a liquid." ;
    sh:property [
        sh:path cat:volumeEvaporationFinal ;
        sh:node cat:Observation ;
    ] ;
    sh:property cat:temperatureInDegC ;
    sh:property [sh:path cat:hasSample ; sh:class cat:Sample] ;
    sh:property [sh:path allo-res:AFR_0002240 ; sh:datatype xsd:string ] ; #wellLocationIdentifier aka position
    sh:property [sh:path cat:order ; sh:datatype xsd:integer] ;
.

cat:DilutionAction a rdfs:Class, sh:NodeShape ;
    rdfs:subClassOf allo-real:AFRE_0000001 ;
    skos:prefLabel "Dilution action" ;
    skos:definition "An action that involves the dilution of a liquid." ;
    sh:property [
        sh:path allo-res:AFR_0001843 ;
        sh:node cat:Observation ;
        sh:node [sh:property [sh:path qudt:unit ; 
                                sh:xone ([ sh:hasValue unit:L ] 
                                        [sh:hasValue unit:MilliL ] )]]
    ] ;
    sh:property cat:temperatureInDegC ;
    sh:property [sh:path cat:hasSample ; sh:class cat:Sample] ;
    sh:property [sh:path allo-res:AFR_0002240 ; sh:datatype xsd:string ] ; #wellLocationIdentifier aka position
    sh:property [sh:path cat:order ; sh:datatype xsd:integer] ;
    sh:property [sh:path cat:hasSolvent ; sh:class <http://purl.obolibrary.org/obo/CHEBI_25367> ] ;
.

cat:SolventChange a rdfs:Class, sh:NodeShape ;
    rdfs:subClassOf allo-real:AFRE_0000001 ;
    skos:prefLabel "Solvent change" ;
    skos:definition "An action that involves the change of solvent." ;
    sh:property [sh:path cat:hasChemical ; sh:class <http://purl.obolibrary.org/obo/CHEBI_25367> ] ;
    sh:property [sh:path cat:order ; sh:datatype xsd:integer] ;
    sh:property [sh:path cat:isSpmeProcess ; sh:datatype xsd:boolean] ;
    sh:property [sh:path cat:hasSubAction ; sh:class cat:SubAction] ;
    .

cat:SubAction a rdfs:Class, sh:NodeShape ;
    skos:prefLabel "Sub-action" ;
    skos:definition "A sub-action is a part of a larger action." ;
    sh:property [sh:path <https://schema.org/name> ; sh:datatype xsd:string ] ; #name
    sh:property [sh:path allo-prop:AFX_0000622 ; sh:datatype xsd:dateTime ] ; #startTime ,
    sh:property [sh:path allo-res:AFR_0002423 ; sh:datatype xsd:dateTime ] ; #endTime ,
    .

cat:SeperationSubAction a rdfs:Class, sh:NodeShape ;
    rdfs:subClassOf allo-real:AFRE_0000001 ;
    skos:prefLabel "Seperation sub-action" ;
    skos:definition "An action that involves the seperation of a substance." ;
    sh:property [sh:path cat:hasCartridge ; sh:class cat:Cartridge ] ;
    .

cat:Cartridge a rdfs:Class , sh:NodeShape ;
        skos:prefLabel "Cartridge" ;
        skos:definition "A cartridge is a device used to hold a substance." ;
        sh:property [sh:path cat:cartridgeName ; sh:datatype xsd:string ] ;
        sh:property [sh:path cat:cartridgeComposition ; sh:datatype xsd:string ] ;
        .

cat:isSpmeProcess a rdf:Property ;
    skos:related <http://purl.allotrope.org/ontologies/process#AFP_0000214> ;
    skos:prefLabel "is SPME process" ;
    skos:definition "Indicates whether the action is a SPME processm, which involves transferring a substance from a liquid to a solid phase by passing the liquid sample through a small fibre containing a stationary phase bonded to a silica needle (<10 Âµm diameter). [CHMO]" ;
    .

cat:volumeEvaporationFinal a rdf:Property ;
        skos:prefLabel "final volume of evaporation" ;
        skos:definition "It indicates the percentage of a liquid's initial volume that has evaporated by the end of a process." ;
        .

cat:order a rdf:Property ;
        skos:prefLabel "order" ;
        skos:definition "The order of the action in the procedure." ;
        .

cat:hasSubAction a rdf:Property ;
        skos:prefLabel "has sub-action" ;
        skos:definition "The sub-actions that make up the action." ;
        .

allo-res:AFR_0001843 a rdf:Property ;
        skos:prefLabel "volume" ;
        skos:definition "A volume datum is a quality quantification facet that quantifies some amount of 3-dimensional space an entity occupies. [Allotrope]" ;
        .

cat:hasSolvent a rdf:Property ;
        skos:prefLabel "has solvent" ;
        skos:definition "The solvent used in the dilution action." ;
        .
        
cat:hasCartridge a rdf:Property ;
        skos:prefLabel "has cartridge" ;
        skos:definition "a property to link a sub-action to the cartridge used in a Seperation Sub Action." ;
        .

cat:cartridgeName a rdf:Property ;
        skos:prefLabel "cartridge name" ;
        skos:definition "It refers to the specific type or brand of cartridge used, which often indicates the nature of the sorbent material inside." ;
        .

cat:cartridgeComposition a rdf:Property ;
        skos:prefLabel "cartridge composition" ;
        skos:definition "It refers to the materials and specific sorbents packed within the SPE cartridge." ;
        .


